<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mushtaq Store - ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Noto Sans Devanagari', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1); }
        .service-icon { font-size: 2rem; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .bottom-nav { box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .nav-item { transition: all 0.2s ease; }
        .nav-item.active { color: #2563eb; }
        .nav-item.active svg { fill: #2563eb; }
        .mobile-container { padding-bottom: 20px; }
        .side-menu-open { transform: translateX(0) !important; }
    </style>
</head>
<body class="bg-gray-50 mobile-container">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-40">
        <div class="px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <button onclick="toggleSideMenu()" class="text-white p-1">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <div class="bg-white text-blue-600 p-2 rounded-full">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2L3 7v11a1 1 0 001 1h3v-7h6v7h3a1 1 0 001-1V7l-7-5z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold">Mushtaq Store</h1>
                        <p class="text-blue-100 text-xs">‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="bg-green-500 px-2 py-1 rounded-full text-xs">‚úì ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§ø‡§§</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Side Menu -->
    <div id="sideMenu" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="fixed left-0 top-0 h-full w-80 bg-white shadow-lg transform -translate-x-full transition-transform duration-300" id="sideMenuContent">
            <div class="p-4 gradient-bg text-white">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="bg-white text-blue-600 p-2 rounded-full">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2L3 7v11a1 1 0 001 1h3v-7h6v7h3a1 1 0 001-1V7l-7-5z"/>
                            </svg>
                        </div>
                        <div>
                            <h2 class="font-bold">Mushtaq Store</h2>
                            <p class="text-blue-100 text-xs">‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
                        </div>
                    </div>
                    <button onclick="toggleSideMenu()" class="text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-4">
                <nav class="space-y-2">
                    <button onclick="switchTab('home'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        <span class="font-medium">‡§π‡•ã‡§Æ</span>
                    </button>
                    
                    <button onclick="switchTab('services'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">‡§∏‡§≠‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç</span>
                    </button>
                    
                    <button onclick="switchTab('track'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">‡§Ü‡§µ‡•á‡§¶‡§® ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó</span>
                    </button>
                    
                    <button onclick="switchTab('profile'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤</span>
                    </button>
                </nav>
                
                <hr class="my-4">
                
                <div class="space-y-2">
                    <button onclick="openAuthModal('customer-login'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§≤‡•â‡§ó‡§ø‡§®</span>
                    </button>
                    
                    <button onclick="openAuthModal('customer-signup'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"/>
                        </svg>
                        <span class="font-medium">‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§∏‡§æ‡§á‡§®‡§Ö‡§™</span>
                    </button>
                    
                    <button onclick="openAuthModal('admin-login'); toggleSideMenu();" class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors text-left">
                        <svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="hidden">
        <div class="px-4 py-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</h2>
                <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                    <span>‡§≤‡•â‡§ó‡§Ü‡§â‡§ü</span>
                </button>
            </div>
            
            <!-- Admin Menu -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <button onclick="showAdminSection('editHome')" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-lg text-center">
                    <div class="text-2xl mb-2">üè†</div>
                    <div class="font-medium">‡§π‡•ã‡§Æ ‡§™‡•á‡§ú ‡§è‡§°‡§ø‡§ü</div>
                </button>
                <button onclick="showAdminSection('manageServices')" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg text-center">
                    <div class="text-2xl mb-2">‚öôÔ∏è</div>
                    <div class="font-medium">‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</div>
                </button>
                <button onclick="showAdminSection('googleSheets')" class="bg-indigo-500 hover:bg-indigo-600 text-white p-4 rounded-lg text-center">
                    <div class="text-2xl mb-2">üìä</div>
                    <div class="font-medium">Google Sheets</div>
                </button>
                <button onclick="showAdminSection('addOffers')" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg text-center">
                    <div class="text-2xl mb-2">üéÅ</div>
                    <div class="font-medium">‡§ë‡§´‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</div>
                </button>
                <button onclick="showAdminSection('addBanner')" class="bg-orange-500 hover:bg-orange-600 text-white p-4 rounded-lg text-center">
                    <div class="text-2xl mb-2">üì¢</div>
                    <div class="font-medium">‡§¨‡•à‡§®‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</div>
                </button>
            </div>
            
            <!-- Admin Sections -->
            <div id="adminSections">
                <!-- Edit Home Section -->
                <div id="editHomeSection" class="admin-section hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4">‡§π‡•ã‡§Æ ‡§™‡•á‡§ú ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç</h3>
                        <form onsubmit="updateHomePage(event)">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                                    <input type="text" id="storeName" value="Mushtaq Store" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§ü‡•à‡§ó‡§≤‡§æ‡§á‡§®</label>
                                    <input type="text" id="tagline" value="‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞</label>
                                    <input type="tel" id="phoneNumber" value="+91 98765 43210" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§™‡§§‡§æ</label>
                                    <textarea id="address" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§¨‡§æ‡§ú‡§æ‡§∞, ‡§∂‡§π‡§∞</textarea>
                                </div>
                                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg">
                                    ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Manage Services Section -->
                <div id="manageServicesSection" class="admin-section hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold">‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h3>
                            <button onclick="showAddServiceForm()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                                ‡§®‡§à ‡§∏‡•á‡§µ‡§æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
                            </button>
                        </div>
                        <div id="servicesList" class="space-y-3">
                            <!-- Services list will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Add Offers Section -->
                <div id="addOffersSection" class="admin-section hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4">‡§ë‡§´‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
                        <form onsubmit="addOffer(event)">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§ë‡§´‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                                    <input type="text" name="offerTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§ë‡§´‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£</label>
                                    <textarea name="offerDescription" rows="3" required class="w-full px-3 py-2 border border-gray-300 rounded-lg"></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü (%)</label>
                                    <input type="number" name="discount" min="1" max="100" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡§ø ‡§§‡§ø‡§•‡§ø</label>
                                    <input type="date" name="expiryDate" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg">
                                    ‡§ë‡§´‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Google Sheets Setup Section -->
                <div id="googleSheetsSection" class="admin-section hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4">üìä Google Sheets ‡§∏‡•á‡§ü‡§Ö‡§™</h3>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <h4 class="font-semibold text-blue-800 mb-2">üîß ‡§∏‡•á‡§ü‡§Ö‡§™ ‡§ó‡§æ‡§á‡§°</h4>
                            <div class="text-sm text-blue-700 space-y-2">
                                <p><strong>‡§∏‡•ç‡§ü‡•á‡§™ 1:</strong> Google Drive ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§ï‡§∞ ‡§®‡§à Google Sheet ‡§¨‡§®‡§æ‡§è‡§Ç</p>
                                <p><strong>‡§∏‡•ç‡§ü‡•á‡§™ 2:</strong> Sheet ‡§Æ‡•á‡§Ç ‡§Ø‡•á columns ‡§¨‡§®‡§æ‡§è‡§Ç: Timestamp, Tracking ID, Service Type, Full Name, Mobile, Email, Address, Status</p>
                                <p><strong>‡§∏‡•ç‡§ü‡•á‡§™ 3:</strong> Google Apps Script ‡§¨‡§®‡§æ‡§è‡§Ç (script.google.com)</p>
                                <p><strong>‡§∏‡•ç‡§ü‡•á‡§™ 4:</strong> ‡§®‡•Ä‡§ö‡•á ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ code Apps Script ‡§Æ‡•á‡§Ç paste ‡§ï‡§∞‡•á‡§Ç</p>
                                <p><strong>‡§∏‡•ç‡§ü‡•á‡§™ 5:</strong> Script ‡§ï‡•ã deploy ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ URL ‡§Ø‡§π‡§æ‡§Å paste ‡§ï‡§∞‡•á‡§Ç</p>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Google Apps Script URL</label>
                                <input type="url" id="googleScriptUrl" placeholder="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                <p class="text-xs text-gray-500 mt-1">Apps Script deploy ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Æ‡§ø‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡§æ URL ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á‡§Ç</p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Google Sheet ID</label>
                                <input type="text" id="googleSheetId" placeholder="1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                <p class="text-xs text-gray-500 mt-1">Google Sheet ‡§ï‡•á URL ‡§∏‡•á Sheet ID copy ‡§ï‡§∞‡•á‡§Ç</p>
                            </div>
                            
                            <button onclick="saveGoogleSheetsConfig()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg">
                                ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
                            </button>
                            
                            <button onclick="testGoogleSheetsConnection()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg ml-2">
                                ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç
                            </button>
                        </div>
                        
                        <div class="mt-6 bg-gray-50 rounded-lg p-4">
                            <h4 class="font-semibold text-gray-800 mb-2">üìù Google Apps Script Code:</h4>
                            <textarea readonly class="w-full h-40 text-xs font-mono bg-white border rounded p-2" onclick="this.select()">
function doPost(e) {
  try {
    // Get the active spreadsheet (make sure to replace with your sheet ID)
    const sheet = SpreadsheetApp.openById('YOUR_SHEET_ID').getActiveSheet();
    
    // Parse the incoming data
    const data = JSON.parse(e.postData.contents);
    
    // Prepare row data
    const rowData = [
      data.timestamp || new Date().toISOString(),
      data.trackingId || '',
      data.serviceType || '',
      data.fullName || '',
      data.mobile || '',
      data.email || '',
      data.address || '',
      data.status || '',
      data.submissionDate || '',
      data.submissionTime || '',
      // Add more fields as needed
      data.fatherName || '',
      data.dob || '',
      data.aadhaarNumber || '',
      data.occupation || '',
      data.bankAccount || '',
      data.ifsc || '',
      data.rationCard || '',
      data.familyMembers || '',
      data.gender || '',
      data.constituency || ''
    ];
    
    // Add the row to the sheet
    sheet.appendRow(rowData);
    
    // Return success response
    return ContentService
      .createTextOutput(JSON.stringify({success: true, message: 'Data saved successfully'}))
      .setMimeType(ContentService.MimeType.JSON);
      
  } catch (error) {
    // Return error response
    return ContentService
      .createTextOutput(JSON.stringify({success: false, error: error.toString()}))
      .setMimeType(ContentService.MimeType.JSON);
  }
}

function doGet(e) {
  return ContentService
    .createTextOutput(JSON.stringify({message: 'Apps Script is working!'}))
    .setMimeType(ContentService.MimeType.JSON);
}
                            </textarea>
                            <p class="text-xs text-gray-600 mt-2">üëÜ ‡§á‡§∏ code ‡§ï‡•ã copy ‡§ï‡§∞‡§ï‡•á Google Apps Script ‡§Æ‡•á‡§Ç paste ‡§ï‡§∞‡•á‡§Ç</p>
                        </div>
                    </div>
                </div>
                
                <!-- Add Banner Section -->
                <div id="addBannerSection" class="admin-section hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4">‡§¨‡•à‡§®‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
                        <form onsubmit="addBanner(event)">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü</label>
                                    <input type="text" name="bannerText" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                </div>
                                
                                <!-- Image Upload Options -->
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-4">
                                    <h4 class="font-medium text-gray-700 mb-3">‡§¨‡•à‡§®‡§∞ ‡§á‡§Æ‡•á‡§ú (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)</h4>
                                    
                                    <!-- File Upload Option -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">üìÅ ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</label>
                                        <input type="file" id="bannerFileInput" accept="image/*" onchange="handleFileUpload(event)" 
                                               class="w-full px-3 py-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                                        <p class="text-xs text-gray-500 mt-1">JPG, PNG, GIF ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç (‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 5MB)</p>
                                    </div>
                                    
                                    <div class="text-center text-gray-500 text-sm mb-4">‡§Ø‡§æ</div>
                                    
                                    <!-- URL Input Option -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">üîó ‡§á‡§Æ‡•á‡§ú URL ‡§°‡§æ‡§≤‡•á‡§Ç</label>
                                        <input type="url" name="bannerImageUrl" placeholder="https://example.com/image.jpg" 
                                               class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        <p class="text-xs text-gray-500 mt-1">‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§∏‡•á ‡§á‡§Æ‡•á‡§ú ‡§ï‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§°‡§æ‡§≤‡•á‡§Ç</p>
                                    </div>
                                    
                                    <!-- Image Preview -->
                                    <div id="imagePreview" class="mt-4 hidden">
                                        <p class="text-sm font-medium text-gray-700 mb-2">‡§á‡§Æ‡•á‡§ú ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç:</p>
                                        <div class="relative inline-block">
                                            <img id="previewImg" src="" alt="Preview" class="max-w-32 max-h-32 rounded-lg border">
                                            <button type="button" onclick="removeImagePreview()" 
                                                    class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-xs hover:bg-red-600">
                                                √ó
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§∞‡§Ç‡§ó</label>
                                    <select name="bannerColor" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        <option value="blue">‡§®‡•Ä‡§≤‡§æ</option>
                                        <option value="green">‡§π‡§∞‡§æ</option>
                                        <option value="red">‡§≤‡§æ‡§≤</option>
                                        <option value="purple">‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä</option>
                                        <option value="orange">‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</label>
                                    <select name="bannerType" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        <option value="announcement">‡§ò‡•ã‡§∑‡§£‡§æ</option>
                                        <option value="offer">‡§ë‡§´‡§∞</option>
                                        <option value="news">‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞</option>
                                    </select>
                                </div>
                                <button type="submit" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg">
                                    ‡§¨‡•à‡§®‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="mainContent" class="px-4 py-4">
        <!-- Hero Section -->
        <div id="heroSection" class="mb-6">
            <!-- Dynamic banners will be added here -->
        </div>
        
        <!-- Offers Section -->
        <div id="offersSection" class="mb-6 hidden">
            <h2 class="text-lg font-bold text-gray-800 mb-4">‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ë‡§´‡§∞</h2>
            <div id="offersList" class="space-y-3">
                <!-- Offers will be populated here -->
            </div>
        </div>
        
        <!-- Home Tab -->
        <div id="homeTab" class="tab-content active">
            <!-- Quick Stats -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-xl">
                    <div class="text-2xl font-bold">150+</div>
                    <div class="text-sm opacity-90">‡§∏‡§´‡§≤ ‡§Ü‡§µ‡•á‡§¶‡§®</div>
                </div>
                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-xl">
                    <div class="text-2xl font-bold">24/7</div>
                    <div class="text-sm opacity-90">‡§∏‡•á‡§µ‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß</div>
                </div>
            </div>

            <!-- Featured Services -->
            <div class="mb-6">
                <h2 class="text-lg font-bold text-gray-800 mb-4">‡§≤‡•ã‡§ï‡§™‡•ç‡§∞‡§ø‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç</h2>
                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('pan')">
                        <div class="text-center">
                            <div class="service-icon mb-2">üèõÔ∏è</div>
                            <h3 class="text-sm font-semibold text-gray-800">PAN Card</h3>
                            <p class="text-xs text-gray-600 mt-1">‚Çπ107 + ‡§∂‡•Å‡§≤‡•ç‡§ï</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('aadhaar')">
                        <div class="text-center">
                            <div class="service-icon mb-2">üÜî</div>
                            <h3 class="text-sm font-semibold text-gray-800">Aadhaar Card</h3>
                            <p class="text-xs text-gray-600 mt-1">‚Çπ30 + ‡§∂‡•Å‡§≤‡•ç‡§ï</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Updates -->
            <div class="bg-white rounded-lg shadow-md p-4">
                <h3 class="font-semibold text-gray-800 mb-3">‡§®‡§µ‡•Ä‡§®‡§§‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü</h3>
                <div class="space-y-3">
                    <div class="flex items-start space-x-3">
                        <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                        <div>
                            <p class="text-sm text-gray-800">PAN ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡•Ä ‡§®‡§à ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç</p>
                            <p class="text-xs text-gray-500">2 ‡§¶‡§ø‡§® ‡§™‡§π‡§≤‡•á</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                        <div>
                            <p class="text-sm text-gray-800">Ayushman ‡§ï‡§æ‡§∞‡•ç‡§° ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ</p>
                            <p class="text-xs text-gray-500">5 ‡§¶‡§ø‡§® ‡§™‡§π‡§≤‡•á</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Tab -->
        <div id="servicesTab" class="tab-content">
            <div class="mb-4">
                <h2 class="text-lg font-bold text-gray-800 mb-4">‡§∏‡§≠‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç</h2>
            </div>
            
            <div class="grid grid-cols-1 gap-4">
                <!-- PAN Card -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('pan')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">üèõÔ∏è</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">PAN Card</h3>
                            <p class="text-sm text-gray-600">‡§®‡§Ø‡§æ PAN ‡§ï‡§æ‡§∞‡•ç‡§° ‡§¨‡§®‡§µ‡§æ‡§è‡§Ç ‡§Ø‡§æ ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§ï‡§∞‡§æ‡§è‡§Ç</p>
                            <div class="bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‚Çπ107 + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- Aadhaar Card -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('aadhaar')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">üÜî</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Aadhaar Card</h3>
                            <p class="text-sm text-gray-600">‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§î‡§∞ ‡§∏‡•Å‡§ß‡§æ‡§∞</p>
                            <div class="bg-green-50 text-green-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‚Çπ30 + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- Voter ID -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('voter')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">üó≥Ô∏è</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Voter ID Card</h3>
                            <p class="text-sm text-gray-600">‡§Æ‡§§‡§¶‡§æ‡§§‡§æ ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡§§‡•ç‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§µ‡•á‡§¶‡§®</p>
                            <div class="bg-purple-50 text-purple-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- E-Shram Card -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('eshram')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">üë∑</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">E-Shram Card</h3>
                            <p class="text-sm text-gray-600">‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§æ‡§∞‡•ç‡§°</p>
                            <div class="bg-orange-50 text-orange-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- Ayushman Card -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('ayushman')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">üè•</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Ayushman Card</h3>
                            <p class="text-sm text-gray-600">‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§≠‡§æ‡§∞‡§§ ‡§ó‡•ã‡§≤‡•ç‡§°‡§® ‡§ï‡§æ‡§∞‡•ç‡§°</p>
                            <div class="bg-red-50 text-red-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- ABHA Card -->
                <div class="bg-white rounded-lg shadow-md p-4 card-hover cursor-pointer" onclick="openServiceForm('abha')">
                    <div class="flex items-center space-x-4">
                        <div class="service-icon">ü©∫</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">ABHA Card</h3>
                            <p class="text-sm text-gray-600">‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§≠‡§æ‡§∞‡§§ ‡§π‡•á‡§≤‡•ç‡§• ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü</p>
                            <div class="bg-teal-50 text-teal-700 px-2 py-1 rounded text-xs mt-2 inline-block">
                                ‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Track Tab -->
        <div id="trackTab" class="tab-content">
            <div class="mb-6">
                <h2 class="text-lg font-bold text-gray-800 mb-4">‡§Ü‡§µ‡•á‡§¶‡§® ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó</h2>
                <div class="bg-white rounded-lg shadow-md p-4">
                    <div class="space-y-4">
                        <input type="text" id="trackingId" placeholder="‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID ‡§Ø‡§æ ‡§∞‡•á‡§´‡§∞‡•á‡§Ç‡§∏ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <button onclick="trackApplication()" 
                                class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                            ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </div>
                    <div id="trackingResult" class="mt-6 hidden">
                        <!-- Tracking results will appear here -->
                    </div>
                </div>
            </div>

            <!-- Recent Applications -->
            <div class="bg-white rounded-lg shadow-md p-4">
                <h3 class="font-semibold text-gray-800 mb-4">‡§π‡§æ‡§≤ ‡§ï‡•á ‡§Ü‡§µ‡•á‡§¶‡§®</h3>
                <div id="recentApplications" class="space-y-3">
                    <div class="text-center text-gray-500 py-8">
                        <div class="text-4xl mb-2">üìã</div>
                        <p>‡§ï‡•ã‡§à ‡§π‡§æ‡§≤ ‡§ï‡§æ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profileTab" class="tab-content">
            <div class="space-y-6">
                <!-- Store Info -->
                <div class="bg-white rounded-lg shadow-md p-4">
                    <h3 class="font-semibold text-gray-800 mb-4">‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üè™</div>
                            <div>
                                <p class="font-medium">Mushtaq Store</p>
                                <p class="text-sm text-gray-600">‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üìû</div>
                            <div>
                                <p class="font-medium">+91 98765 43210</p>
                                <p class="text-sm text-gray-600">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üìç</div>
                            <div>
                                <p class="font-medium">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§¨‡§æ‡§ú‡§æ‡§∞, ‡§∂‡§π‡§∞</p>
                                <p class="text-sm text-gray-600">‡§™‡§§‡§æ</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üïí</div>
                            <div>
                                <p class="font-medium">‡§∏‡•Å‡§¨‡§π 9:00 - ‡§∂‡§æ‡§Æ 7:00</p>
                                <p class="text-sm text-gray-600">‡§ñ‡•Å‡§≤‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white rounded-lg shadow-md p-4">
                    <h3 class="font-semibold text-gray-800 mb-4">‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ï‡§æ‡§∞‡•ç‡§Ø</h3>
                    <div class="space-y-3">
                        <button onclick="showApplicationReport()" class="w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">üìä</span>
                                <span>‡§Ü‡§µ‡•á‡§¶‡§® ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü</span>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                        <button onclick="showSettings()" class="w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">‚öôÔ∏è</span>
                                <span>‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</span>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Certification -->
                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-4 text-center">
                    <div class="text-3xl mb-2">‚úÖ</div>
                    <h3 class="font-semibold mb-1">‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§ø‡§§ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</h3>
                    <p class="text-sm opacity-90">‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§§‡§æ</p>
                </div>
            </div>
        </div>
    </main>



    <!-- Authentication Modal -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl max-w-md w-full">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="authModalTitle" class="text-xl font-bold text-gray-800"></h3>
                        <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                    </div>
                    
                    <form id="authForm" onsubmit="submitAuthForm(event)">
                        <div id="authFormFields" class="space-y-4">
                            <!-- Dynamic auth form fields will be inserted here -->
                        </div>
                        
                        <div class="mt-6">
                            <button type="submit" id="authSubmitBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors">
                                ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Form Modal -->
    <div id="serviceModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="modalTitle" class="text-2xl font-bold text-gray-800"></h3>
                        <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                    </div>
                    
                    <form id="serviceForm" onsubmit="submitForm(event)">
                        <div id="formFields" class="space-y-4">
                            <!-- Dynamic form fields will be inserted here -->
                        </div>
                        
                        <div class="mt-8 flex space-x-4">
                            <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors">
                                ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç
                            </button>
                            <button type="button" onclick="closeModal()" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        const serviceData = {
            pan: {
                title: 'PAN Card ‡§Ü‡§µ‡•á‡§¶‡§®',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'fatherName', label: '‡§™‡§ø‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'dob', label: '‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø', type: 'date', required: true },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'email', label: '‡§à‡§Æ‡•á‡§≤', type: 'email', required: true },
                    { name: 'address', label: '‡§™‡§§‡§æ', type: 'textarea', required: true },
                    { name: 'serviceType', label: '‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞', type: 'select', options: ['‡§®‡§Ø‡§æ PAN', 'PAN ‡§∏‡•Å‡§ß‡§æ‡§∞', '‡§°‡•Å‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§ü PAN'], required: true }
                ]
            },
            aadhaar: {
                title: 'Aadhaar Card ‡§∏‡•á‡§µ‡§æ',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'aadhaarNumber', label: '‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞ (‡§Ø‡§¶‡§ø ‡§π‡•à)', type: 'text' },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'address', label: '‡§™‡§§‡§æ', type: 'textarea', required: true },
                    { name: 'serviceType', label: '‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞', type: 'select', options: ['‡§®‡§æ‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü', '‡§™‡§§‡§æ ‡§Ö‡§™‡§°‡•á‡§ü', '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§Ö‡§™‡§°‡•á‡§ü', '‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø ‡§∏‡•Å‡§ß‡§æ‡§∞'], required: true }
                ]
            },
            voter: {
                title: 'Voter ID Card ‡§Ü‡§µ‡•á‡§¶‡§®',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'fatherName', label: '‡§™‡§ø‡§§‡§æ/‡§™‡§§‡§ø ‡§ï‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'dob', label: '‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø', type: 'date', required: true },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'address', label: '‡§™‡§§‡§æ', type: 'textarea', required: true },
                    { name: 'constituency', label: '‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞', type: 'text', required: true }
                ]
            },
            eshram: {
                title: 'E-Shram Card ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'aadhaarNumber', label: '‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞', type: 'text', required: true },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'occupation', label: '‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø', type: 'text', required: true },
                    { name: 'bankAccount', label: '‡§¨‡•à‡§Ç‡§ï ‡§ñ‡§æ‡§§‡§æ ‡§®‡§Ç‡§¨‡§∞', type: 'text', required: true },
                    { name: 'ifsc', label: 'IFSC ‡§ï‡•ã‡§°', type: 'text', required: true }
                ]
            },
            ayushman: {
                title: 'Ayushman Bharat Card',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'aadhaarNumber', label: '‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞', type: 'text', required: true },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'rationCard', label: '‡§∞‡§æ‡§∂‡§® ‡§ï‡§æ‡§∞‡•ç‡§° ‡§®‡§Ç‡§¨‡§∞', type: 'text' },
                    { name: 'familyMembers', label: '‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•á ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ', type: 'number', required: true },
                    { name: 'address', label: '‡§™‡§§‡§æ', type: 'textarea', required: true }
                ]
            },
            abha: {
                title: 'ABHA Card ‡§Ü‡§µ‡•á‡§¶‡§®',
                fields: [
                    { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                    { name: 'aadhaarNumber', label: '‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞', type: 'text', required: true },
                    { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                    { name: 'dob', label: '‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø', type: 'date', required: true },
                    { name: 'gender', label: '‡§≤‡§ø‡§Ç‡§ó', type: 'select', options: ['‡§™‡•Å‡§∞‡•Å‡§∑', '‡§Æ‡§π‡§ø‡§≤‡§æ', '‡§Ö‡§®‡•ç‡§Ø'], required: true },
                    { name: 'address', label: '‡§™‡§§‡§æ', type: 'textarea', required: true }
                ]
            }
        };

        function openServiceForm(serviceType) {
            const modal = document.getElementById('serviceModal');
            const modalTitle = document.getElementById('modalTitle');
            const formFields = document.getElementById('formFields');
            
            const service = serviceData[serviceType];
            modalTitle.textContent = service.title;
            
            formFields.innerHTML = '';
            service.fields.forEach(field => {
                const fieldDiv = document.createElement('div');
                fieldDiv.className = 'mb-4';
                
                let fieldHTML = `<label class="block text-sm font-medium text-gray-700 mb-2">${field.label}</label>`;
                
                if (field.type === 'select') {
                    fieldHTML += `<select name="${field.name}" ${field.required ? 'required' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="">‡§ö‡•Å‡§®‡•á‡§Ç</option>`;
                    field.options.forEach(option => {
                        fieldHTML += `<option value="${option}">${option}</option>`;
                    });
                    fieldHTML += `</select>`;
                } else if (field.type === 'textarea') {
                    fieldHTML += `<textarea name="${field.name}" ${field.required ? 'required' : ''} rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>`;
                } else {
                    fieldHTML += `<input type="${field.type}" name="${field.name}" ${field.required ? 'required' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">`;
                }
                
                fieldDiv.innerHTML = fieldHTML;
                formFields.appendChild(fieldDiv);
            });
            
            // Add service type hidden field
            const serviceTypeField = document.createElement('input');
            serviceTypeField.type = 'hidden';
            serviceTypeField.name = 'serviceType';
            serviceTypeField.value = serviceType;
            formFields.appendChild(serviceTypeField);
            
            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('serviceModal').classList.add('hidden');
        }

        function submitForm(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            
            // Generate tracking ID
            const trackingId = 'MST' + Date.now().toString().slice(-8);
            
            // Prepare application data
            const applicationData = {
                trackingId: trackingId,
                ...data,
                submissionDate: new Date().toLocaleDateString('hi-IN'),
                submissionTime: new Date().toLocaleTimeString('hi-IN'),
                status: '‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§'
            };
            
            // Show loading message
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...';
            submitBtn.disabled = true;
            
            // Submit to Google Sheets
            submitToGoogleSheets(applicationData)
                .then(() => {
                    // Store in localStorage as backup
                    let applications = JSON.parse(localStorage.getItem('applications') || '[]');
                    applications.push(applicationData);
                    localStorage.setItem('applications', JSON.stringify(applications));
                    
                    // Show success message
                    alert(`‚úÖ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ!\n\nüìã ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID: ${trackingId}\n\nüíæ ‡§°‡•á‡§ü‡§æ Google Sheets ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ\n\n‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§∏ ID ‡§ï‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§ñ‡•á‡§Ç‡•§`);
                    closeModal();
                })
                .catch((error) => {
                    console.error('Google Sheets submission error:', error);
                    
                    // Store in localStorage as fallback
                    let applications = JSON.parse(localStorage.getItem('applications') || '[]');
                    applications.push(applicationData);
                    localStorage.setItem('applications', JSON.stringify(applications));
                    
                    alert(`‚ö†Ô∏è ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§≤‡•á‡§ï‡§ø‡§® Google Sheets ‡§Æ‡•á‡§Ç sync ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü!\n\nüìã ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID: ${trackingId}\n\nüíæ ‡§°‡•á‡§ü‡§æ locally ‡§∏‡•á‡§µ ‡§π‡•à\n\n‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§∏ ID ‡§ï‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§ñ‡•á‡§Ç‡•§`);
                    closeModal();
                })
                .finally(() => {
                    // Reset button
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
        }

        function trackApplication() {
            const trackingId = document.getElementById('trackingId').value.trim();
            const resultDiv = document.getElementById('trackingResult');
            
            if (!trackingId) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID ‡§°‡§æ‡§≤‡•á‡§Ç');
                return;
            }
            
            // Get applications from localStorage (replace with actual API call)
            const applications = JSON.parse(localStorage.getItem('applications') || '[]');
            const application = applications.find(app => app.trackingId === trackingId);
            
            if (application) {
                resultDiv.innerHTML = `
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h4 class="font-semibold text-green-800 mb-2">‡§Ü‡§µ‡•á‡§¶‡§® ‡§Æ‡§ø‡§≤ ‡§ó‡§Ø‡§æ!</h4>
                        <div class="space-y-2 text-sm">
                            <p><strong>‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID:</strong> ${application.trackingId}</p>
                            <p><strong>‡§®‡§æ‡§Æ:</strong> ${application.fullName}</p>
                            <p><strong>‡§∏‡•á‡§µ‡§æ:</strong> ${application.serviceType}</p>
                            <p><strong>‡§ú‡§Æ‡§æ ‡§§‡§ø‡§•‡§ø:</strong> ${application.submissionDate}</p>
                            <p><strong>‡§∏‡•ç‡§•‡§ø‡§§‡§ø:</strong> <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded">${application.status}</span></p>
                        </div>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h4 class="font-semibold text-red-800 mb-2">‡§Ü‡§µ‡•á‡§¶‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</h4>
                        <p class="text-sm text-red-600">‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ID ‡§°‡§æ‡§≤‡•á‡§Ç ‡§Ø‡§æ ‡§π‡§Æ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§</p>
                    </div>
                `;
            }
            
            resultDiv.classList.remove('hidden');
        }

        // Side menu functionality
        function toggleSideMenu() {
            const sideMenu = document.getElementById('sideMenu');
            const sideMenuContent = document.getElementById('sideMenuContent');
            
            if (sideMenu.classList.contains('hidden')) {
                sideMenu.classList.remove('hidden');
                setTimeout(() => {
                    sideMenuContent.classList.add('side-menu-open');
                }, 10);
            } else {
                sideMenuContent.classList.remove('side-menu-open');
                setTimeout(() => {
                    sideMenu.classList.add('hidden');
                }, 300);
            }
        }

        // Authentication modal functionality
        function openAuthModal(authType) {
            const modal = document.getElementById('authModal');
            const modalTitle = document.getElementById('authModalTitle');
            const formFields = document.getElementById('authFormFields');
            const submitBtn = document.getElementById('authSubmitBtn');
            
            let title, fields, buttonText;
            
            switch(authType) {
                case 'customer-login':
                    title = '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§≤‡•â‡§ó‡§ø‡§®';
                    buttonText = '‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç';
                    fields = [
                        { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                        { name: 'password', label: '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°', type: 'password', required: true }
                    ];
                    break;
                case 'customer-signup':
                    title = '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§∏‡§æ‡§á‡§®‡§Ö‡§™';
                    buttonText = '‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç';
                    fields = [
                        { name: 'fullName', label: '‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ', type: 'text', required: true },
                        { name: 'mobile', label: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', type: 'tel', required: true },
                        { name: 'email', label: '‡§à‡§Æ‡•á‡§≤', type: 'email', required: true },
                        { name: 'password', label: '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°', type: 'password', required: true },
                        { name: 'confirmPassword', label: '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ ‡§ï‡§∞‡•á‡§Ç', type: 'password', required: true }
                    ];
                    break;
                case 'admin-login':
                    title = '‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®';
                    buttonText = '‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®';
                    fields = [
                        { name: 'adminId', label: '‡§è‡§°‡§Æ‡§ø‡§® ID', type: 'text', required: true },
                        { name: 'password', label: '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°', type: 'password', required: true }
                    ];
                    break;
            }
            
            modalTitle.textContent = title;
            submitBtn.textContent = buttonText;
            
            formFields.innerHTML = '';
            fields.forEach(field => {
                const fieldDiv = document.createElement('div');
                fieldDiv.innerHTML = `
                    <label class="block text-sm font-medium text-gray-700 mb-2">${field.label}</label>
                    <input type="${field.type}" name="${field.name}" ${field.required ? 'required' : ''} 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                `;
                formFields.appendChild(fieldDiv);
            });
            
            // Add auth type hidden field
            const authTypeField = document.createElement('input');
            authTypeField.type = 'hidden';
            authTypeField.name = 'authType';
            authTypeField.value = authType;
            formFields.appendChild(authTypeField);
            
            modal.classList.remove('hidden');
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.add('hidden');
        }

        function submitAuthForm(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            
            // Basic validation for signup
            if (data.authType === 'customer-signup' && data.password !== data.confirmPassword) {
                alert('‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§Æ‡•à‡§ö ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç!');
                return;
            }
            
            // Get existing users
            let users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (data.authType === 'customer-signup') {
                // Check if user already exists
                const existingUser = users.find(user => user.mobile === data.mobile);
                if (existingUser) {
                    alert('‡§Ø‡§π ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞‡•ç‡§° ‡§π‡•à!');
                    return;
                }
                
                // Add new user
                const newUser = {
                    fullName: data.fullName,
                    mobile: data.mobile,
                    email: data.email,
                    password: data.password,
                    type: 'customer'
                };
                users.push(newUser);
                localStorage.setItem('users', JSON.stringify(users));
                
                alert('‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§∏‡§´‡§≤! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§');
                closeAuthModal();
                
            } else if (data.authType === 'customer-login') {
                // Check customer login
                const user = users.find(user => user.mobile === data.mobile && user.password === data.password && user.type === 'customer');
                if (user) {
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    alert(`‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ${user.fullName}! ‡§≤‡•â‡§ó‡§ø‡§® ‡§∏‡§´‡§≤‡•§`);
                    closeAuthModal();
                } else {
                    alert('‡§ó‡§≤‡§§ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°! ‡§™‡§π‡§≤‡•á ‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç‡•§');
                }
                
            } else if (data.authType === 'admin-login') {
                // Admin login check
                if (data.adminId === '2206' && data.password === '9355') {
                    const adminUser = { adminId: '2206', type: 'admin', name: 'Admin' };
                    localStorage.setItem('currentUser', JSON.stringify(adminUser));
                    alert('‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§® ‡§∏‡§´‡§≤!');
                    closeAuthModal();
                    showAdminDashboard();
                } else {
                    alert('‡§ó‡§≤‡§§ ‡§è‡§°‡§Æ‡§ø‡§® ID ‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°!');
                }
            }
        }

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Update recent applications when switching to track tab
            if (tabName === 'track') {
                updateRecentApplications();
            }
        }

        // Update recent applications display
        function updateRecentApplications() {
            const applications = JSON.parse(localStorage.getItem('applications') || '[]');
            const recentDiv = document.getElementById('recentApplications');
            
            if (applications.length === 0) {
                recentDiv.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <div class="text-4xl mb-2">üìã</div>
                        <p>‡§ï‡•ã‡§à ‡§π‡§æ‡§≤ ‡§ï‡§æ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</p>
                    </div>
                `;
                return;
            }
            
            const recentApps = applications.slice(-5).reverse(); // Show last 5 applications
            recentDiv.innerHTML = recentApps.map(app => `
                <div class="bg-gray-50 rounded-lg p-3 border-l-4 border-blue-500">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-medium text-sm">${app.fullName}</p>
                            <p class="text-xs text-gray-600">${app.serviceType}</p>
                            <p class="text-xs text-gray-500 mt-1">ID: ${app.trackingId}</p>
                        </div>
                        <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">${app.status}</span>
                    </div>
                </div>
            `).join('');
        }

        // Google Sheets Configuration
        const GOOGLE_SHEETS_CONFIG = {
            // Replace with your Google Apps Script Web App URL
            scriptUrl: 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec',
            
            // Alternative: Google Sheets API (requires API key)
            sheetsApiUrl: 'https://sheets.googleapis.com/v4/spreadsheets/YOUR_SHEET_ID/values/Sheet1!A:Z:append',
            apiKey: 'YOUR_API_KEY'
        };

        // Method 1: Submit to Google Sheets via Google Apps Script
        async function submitToGoogleSheets(data) {
            try {
                // Prepare data for Google Sheets
                const sheetData = {
                    timestamp: new Date().toISOString(),
                    trackingId: data.trackingId,
                    serviceType: data.serviceType,
                    fullName: data.fullName,
                    mobile: data.mobile,
                    email: data.email || '',
                    address: data.address || '',
                    status: data.status,
                    submissionDate: data.submissionDate,
                    submissionTime: data.submissionTime,
                    // Add all other form fields
                    ...data
                };

                // Submit using fetch API
                const response = await fetch(GOOGLE_SHEETS_CONFIG.scriptUrl, {
                    method: 'POST',
                    mode: 'no-cors', // Important for Google Apps Script
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(sheetData)
                });

                // Note: no-cors mode doesn't allow reading response
                // We assume success if no error is thrown
                console.log('Data submitted to Google Sheets successfully');
                return Promise.resolve();

            } catch (error) {
                console.error('Error submitting to Google Sheets:', error);
                throw error;
            }
        }

        // Method 2: Alternative Google Sheets API method (requires API key)
        async function submitToGoogleSheetsAPI(data) {
            try {
                const values = [
                    [
                        new Date().toISOString(),
                        data.trackingId,
                        data.serviceType,
                        data.fullName,
                        data.mobile,
                        data.email || '',
                        data.address || '',
                        data.status,
                        data.submissionDate,
                        data.submissionTime
                    ]
                ];

                const response = await fetch(`${GOOGLE_SHEETS_CONFIG.sheetsApiUrl}?key=${GOOGLE_SHEETS_CONFIG.apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        values: values,
                        valueInputOption: 'RAW'
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                console.log('Data submitted to Google Sheets API successfully:', result);
                return result;

            } catch (error) {
                console.error('Error submitting to Google Sheets API:', error);
                throw error;
            }
        }

        // Method 3: Submit to Google Forms (alternative approach)
        async function submitToGoogleForms(data) {
            try {
                // Replace with your Google Form URL and field IDs
                const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse';
                
                const formData = new FormData();
                formData.append('entry.FIELD_ID_1', data.trackingId); // Replace with actual field IDs
                formData.append('entry.FIELD_ID_2', data.fullName);
                formData.append('entry.FIELD_ID_3', data.mobile);
                formData.append('entry.FIELD_ID_4', data.serviceType);
                // Add more fields as needed

                const response = await fetch(GOOGLE_FORM_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });

                console.log('Data submitted to Google Forms successfully');
                return Promise.resolve();

            } catch (error) {
                console.error('Error submitting to Google Forms:', error);
                throw error;
            }
        }

        // Close modal when clicking outside
        document.getElementById('serviceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close auth modal when clicking outside
        document.getElementById('authModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAuthModal();
            }
        });

        // Close side menu when clicking outside
        document.getElementById('sideMenu').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleSideMenu();
            }
        });

        // Admin Dashboard Functions
        function showAdminDashboard() {
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('adminDashboard').classList.remove('hidden');
        }

        function logout() {
            localStorage.removeItem('currentUser');
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            alert('‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§∏‡§´‡§≤!');
        }

        function showAdminSection(sectionName) {
            // Hide all admin sections
            const sections = document.querySelectorAll('.admin-section');
            sections.forEach(section => section.classList.add('hidden'));
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.remove('hidden');
            
            if (sectionName === 'manageServices') {
                loadServicesList();
            }
        }

        function updateHomePage(event) {
            event.preventDefault();
            
            const storeName = document.getElementById('storeName').value;
            const tagline = document.getElementById('tagline').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const address = document.getElementById('address').value;
            
            // Update header
            const headerTitle = document.querySelector('header h1');
            const headerTagline = document.querySelector('header p');
            if (headerTitle) headerTitle.textContent = storeName;
            if (headerTagline) headerTagline.textContent = tagline;
            
            // Save to localStorage
            const homeData = { storeName, tagline, phoneNumber, address };
            localStorage.setItem('homePageData', JSON.stringify(homeData));
            
            alert('‡§π‡•ã‡§Æ ‡§™‡•á‡§ú ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
        }

        function loadServicesList() {
            const servicesList = document.getElementById('servicesList');
            const services = Object.keys(serviceData);
            
            servicesList.innerHTML = services.map(serviceKey => {
                const service = serviceData[serviceKey];
                return `
                    <div class="bg-gray-50 rounded-lg p-4 flex justify-between items-center">
                        <div>
                            <h4 class="font-medium">${service.title}</h4>
                            <p class="text-sm text-gray-600">${service.fields.length} ‡§´‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏</p>
                        </div>
                        <div class="space-x-2">
                            <button onclick="editService('${serviceKey}')" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">
                                ‡§è‡§°‡§ø‡§ü
                            </button>
                            <button onclick="deleteService('${serviceKey}')" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                                ‡§°‡§ø‡§≤‡•Ä‡§ü
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showAddServiceForm() {
            const modal = document.getElementById('serviceModal');
            const modalTitle = document.getElementById('modalTitle');
            const formFields = document.getElementById('formFields');
            
            modalTitle.textContent = '‡§®‡§à ‡§∏‡•á‡§µ‡§æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç';
            
            formFields.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡•á‡§µ‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                        <input type="text" name="serviceTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡•á‡§µ‡§æ ‡§Ü‡§á‡§ï‡§® (‡§á‡§Æ‡•ã‡§ú‡•Ä)</label>
                        <input type="text" name="serviceIcon" placeholder="üèõÔ∏è" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡•á‡§µ‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£</label>
                        <textarea name="serviceDescription" rows="3" required class="w-full px-3 py-2 border border-gray-300 rounded-lg"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï</label>
                        <input type="text" name="serviceFee" placeholder="‚Çπ100 + ‡§∏‡•á‡§µ‡§æ ‡§∂‡•Å‡§≤‡•ç‡§ï" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        function editService(serviceKey) {
            alert(`${serviceData[serviceKey].title} ‡§ï‡•ã ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡•Ä‡§ö‡§∞ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü‡§è‡§ó‡§æ!`);
        }

        function deleteService(serviceKey) {
            if (confirm(`‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ${serviceData[serviceKey].title} ‡§ï‡•ã ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`)) {
                delete serviceData[serviceKey];
                loadServicesList();
                alert('‡§∏‡•á‡§µ‡§æ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§π‡•ã ‡§ó‡§à!');
            }
        }

        function addOffer(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const offerData = Object.fromEntries(formData.entries());
            
            // Get existing offers
            let offers = JSON.parse(localStorage.getItem('offers') || '[]');
            offers.push({
                id: Date.now(),
                ...offerData,
                createdDate: new Date().toLocaleDateString('hi-IN')
            });
            
            localStorage.setItem('offers', JSON.stringify(offers));
            
            alert('‡§ë‡§´‡§∞ ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!');
            event.target.reset();
            loadOffers();
        }

        // Global variable to store uploaded image data
        let uploadedImageData = null;

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (5MB limit)
            if (file.size > 5 * 1024 * 1024) {
                alert('‡§´‡§æ‡§á‡§≤ ‡§ï‡§æ ‡§∏‡§æ‡§á‡§ú‡§º 5MB ‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§õ‡•ã‡§ü‡•Ä ‡§´‡§æ‡§á‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§');
                event.target.value = '';
                return;
            }
            
            // Check file type
            if (!file.type.startsWith('image/')) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•á‡§µ‡§≤ ‡§á‡§Æ‡•á‡§ú ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç!');
                event.target.value = '';
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                uploadedImageData = e.target.result;
                showImagePreview(uploadedImageData);
                
                // Clear URL input when file is uploaded
                const urlInput = document.querySelector('input[name="bannerImageUrl"]');
                if (urlInput) urlInput.value = '';
            };
            reader.readAsDataURL(file);
        }

        function showImagePreview(imageSrc) {
            const previewDiv = document.getElementById('imagePreview');
            const previewImg = document.getElementById('previewImg');
            
            previewImg.src = imageSrc;
            previewDiv.classList.remove('hidden');
        }

        function removeImagePreview() {
            const previewDiv = document.getElementById('imagePreview');
            const previewImg = document.getElementById('previewImg');
            const fileInput = document.getElementById('bannerFileInput');
            const urlInput = document.querySelector('input[name="bannerImageUrl"]');
            
            previewDiv.classList.add('hidden');
            previewImg.src = '';
            fileInput.value = '';
            if (urlInput) urlInput.value = '';
            uploadedImageData = null;
        }

        function addBanner(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const bannerData = Object.fromEntries(formData.entries());
            
            // Determine image source (uploaded file or URL)
            let bannerImage = null;
            if (uploadedImageData) {
                bannerImage = uploadedImageData; // Base64 data from uploaded file
            } else if (bannerData.bannerImageUrl) {
                bannerImage = bannerData.bannerImageUrl; // URL from input
            }
            
            // Get existing banners
            let banners = JSON.parse(localStorage.getItem('banners') || '[]');
            banners.push({
                id: Date.now(),
                bannerText: bannerData.bannerText,
                bannerImage: bannerImage,
                bannerColor: bannerData.bannerColor,
                bannerType: bannerData.bannerType,
                createdDate: new Date().toLocaleDateString('hi-IN')
            });
            
            localStorage.setItem('banners', JSON.stringify(banners));
            
            alert('‡§¨‡•à‡§®‡§∞ ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!');
            event.target.reset();
            removeImagePreview();
            loadBanners();
        }

        function loadOffers() {
            const offers = JSON.parse(localStorage.getItem('offers') || '[]');
            const offersSection = document.getElementById('offersSection');
            const offersList = document.getElementById('offersList');
            
            if (offers.length > 0) {
                offersSection.classList.remove('hidden');
                offersList.innerHTML = offers.map(offer => `
                    <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg p-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-bold text-lg">${offer.offerTitle}</h3>
                                <p class="text-sm opacity-90 mt-1">${offer.offerDescription}</p>
                                <div class="mt-2">
                                    <span class="bg-white text-purple-600 px-2 py-1 rounded-full text-sm font-bold">
                                        ${offer.discount}% ‡§õ‡•Ç‡§ü
                                    </span>
                                </div>
                            </div>
                            <div class="text-right text-sm opacity-75">
                                <p>‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡§ø: ${new Date(offer.expiryDate).toLocaleDateString('hi-IN')}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            } else {
                offersSection.classList.add('hidden');
            }
        }

        function loadBanners() {
            const banners = JSON.parse(localStorage.getItem('banners') || '[]');
            const heroSection = document.getElementById('heroSection');
            
            if (banners.length > 0) {
                heroSection.innerHTML = banners.map(banner => {
                    const colorClass = {
                        'blue': 'from-blue-500 to-blue-600',
                        'green': 'from-green-500 to-green-600',
                        'red': 'from-red-500 to-red-600',
                        'purple': 'from-purple-500 to-purple-600',
                        'orange': 'from-orange-500 to-orange-600'
                    }[banner.bannerColor] || 'from-blue-500 to-blue-600';
                    
                    const icon = {
                        'announcement': 'üì¢',
                        'offer': 'üéÅ',
                        'news': 'üì∞'
                    }[banner.bannerType] || 'üì¢';
                    
                    return `
                        <div class="bg-gradient-to-r ${colorClass} text-white rounded-lg mb-3 relative overflow-hidden min-h-[120px]">
                            ${banner.bannerImage ? 
                                `<div class="absolute inset-0">
                                    <img src="${banner.bannerImage}" alt="Banner Image" class="w-full h-full object-cover" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\\'flex items-center justify-center h-full text-4xl\\'>${icon}</div>';">
                                    <div class="absolute inset-0 bg-black bg-opacity-30"></div>
                                </div>` : 
                                `<div class="flex items-center justify-center h-full text-4xl absolute inset-0">${icon}</div>`
                            }
                            <div class="relative z-10 p-4 h-full flex flex-col justify-center">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1">
                                        <p class="font-bold text-lg mb-1 drop-shadow-lg">${banner.bannerText}</p>
                                        <p class="text-sm opacity-90 drop-shadow">${banner.bannerType === 'announcement' ? '‡§ò‡•ã‡§∑‡§£‡§æ' : banner.bannerType === 'offer' ? '‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ë‡§´‡§∞' : '‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞'}</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button onclick="editBanner(${banner.id})" class="bg-white/20 hover:bg-white/30 text-white rounded-full w-8 h-8 text-sm transition-colors flex items-center justify-center" title="‡§¨‡•à‡§®‡§∞ ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç">
                                            ‚úèÔ∏è
                                        </button>
                                        <button onclick="deleteBanner(${banner.id})" class="bg-white/20 hover:bg-white/30 text-white rounded-full w-8 h-8 text-sm transition-colors flex items-center justify-center" title="‡§¨‡•à‡§®‡§∞ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç">
                                            üóëÔ∏è
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
        }

        function editBanner(bannerId) {
            const banners = JSON.parse(localStorage.getItem('banners') || '[]');
            const banner = banners.find(b => b.id === bannerId);
            
            if (!banner) {
                alert('‡§¨‡•à‡§®‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ!');
                return;
            }
            
            const modal = document.getElementById('serviceModal');
            const modalTitle = document.getElementById('modalTitle');
            const formFields = document.getElementById('formFields');
            
            modalTitle.textContent = '‡§¨‡•à‡§®‡§∞ ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç';
            
            formFields.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü</label>
                        <input type="text" name="bannerText" value="${banner.bannerText}" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    
                    <!-- Current Image Display -->
                    ${banner.bannerImage ? `
                        <div class="border rounded-lg p-3 bg-gray-50">
                            <p class="text-sm font-medium text-gray-700 mb-2">‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ ‡§á‡§Æ‡•á‡§ú:</p>
                            <div class="relative inline-block">
                                <img src="${banner.bannerImage}" alt="Current Banner" class="max-w-32 max-h-32 rounded-lg border">
                                <button type="button" onclick="removeCurrentBannerImage()" 
                                        class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-xs hover:bg-red-600">
                                    √ó
                                </button>
                            </div>
                        </div>
                    ` : ''}
                    
                    <!-- Image Upload Options -->
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-4">
                        <h4 class="font-medium text-gray-700 mb-3">‡§®‡§à ‡§á‡§Æ‡•á‡§ú (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)</h4>
                        
                        <!-- File Upload Option -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">üìÅ ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</label>
                            <input type="file" id="editBannerFileInput" accept="image/*" onchange="handleEditFileUpload(event)" 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                        </div>
                        
                        <div class="text-center text-gray-500 text-sm mb-4">‡§Ø‡§æ</div>
                        
                        <!-- URL Input Option -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">üîó ‡§á‡§Æ‡•á‡§ú URL ‡§°‡§æ‡§≤‡•á‡§Ç</label>
                            <input type="url" name="bannerImageUrl" placeholder="https://example.com/image.jpg" 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                        </div>
                        
                        <!-- Image Preview -->
                        <div id="editImagePreview" class="mt-4 hidden">
                            <p class="text-sm font-medium text-gray-700 mb-2">‡§®‡§à ‡§á‡§Æ‡•á‡§ú ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç:</p>
                            <div class="relative inline-block">
                                <img id="editPreviewImg" src="" alt="Preview" class="max-w-32 max-h-32 rounded-lg border">
                                <button type="button" onclick="removeEditImagePreview()" 
                                        class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-xs hover:bg-red-600">
                                    √ó
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§∞‡§Ç‡§ó</label>
                        <select name="bannerColor" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option value="blue" ${banner.bannerColor === 'blue' ? 'selected' : ''}>‡§®‡•Ä‡§≤‡§æ</option>
                            <option value="green" ${banner.bannerColor === 'green' ? 'selected' : ''}>‡§π‡§∞‡§æ</option>
                            <option value="red" ${banner.bannerColor === 'red' ? 'selected' : ''}>‡§≤‡§æ‡§≤</option>
                            <option value="purple" ${banner.bannerColor === 'purple' ? 'selected' : ''}>‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä</option>
                            <option value="orange" ${banner.bannerColor === 'orange' ? 'selected' : ''}>‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡§¨‡•à‡§®‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</label>
                        <select name="bannerType" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option value="announcement" ${banner.bannerType === 'announcement' ? 'selected' : ''}>‡§ò‡•ã‡§∑‡§£‡§æ</option>
                            <option value="offer" ${banner.bannerType === 'offer' ? 'selected' : ''}>‡§ë‡§´‡§∞</option>
                            <option value="news" ${banner.bannerType === 'news' ? 'selected' : ''}>‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞</option>
                        </select>
                    </div>
                    <input type="hidden" name="editBannerId" value="${bannerId}">
                    <input type="hidden" name="currentBannerImage" value="${banner.bannerImage || ''}">
                </div>
            `;
            
            // Update form submit handler for editing
            const form = document.getElementById('serviceForm');
            form.onsubmit = updateBanner;
            
            // Update submit button text
            const submitBtn = form.querySelector('button[type="submit"]');
            submitBtn.textContent = '‡§¨‡•à‡§®‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç';
            
            modal.classList.remove('hidden');
        }

        // Global variable for edit mode
        let editUploadedImageData = null;

        function handleEditFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (5MB limit)
            if (file.size > 5 * 1024 * 1024) {
                alert('‡§´‡§æ‡§á‡§≤ ‡§ï‡§æ ‡§∏‡§æ‡§á‡§ú‡§º 5MB ‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§õ‡•ã‡§ü‡•Ä ‡§´‡§æ‡§á‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§');
                event.target.value = '';
                return;
            }
            
            // Check file type
            if (!file.type.startsWith('image/')) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•á‡§µ‡§≤ ‡§á‡§Æ‡•á‡§ú ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç!');
                event.target.value = '';
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                editUploadedImageData = e.target.result;
                showEditImagePreview(editUploadedImageData);
                
                // Clear URL input when file is uploaded
                const urlInput = document.querySelector('input[name="bannerImageUrl"]');
                if (urlInput) urlInput.value = '';
            };
            reader.readAsDataURL(file);
        }

        function showEditImagePreview(imageSrc) {
            const previewDiv = document.getElementById('editImagePreview');
            const previewImg = document.getElementById('editPreviewImg');
            
            previewImg.src = imageSrc;
            previewDiv.classList.remove('hidden');
        }

        function removeEditImagePreview() {
            const previewDiv = document.getElementById('editImagePreview');
            const previewImg = document.getElementById('editPreviewImg');
            const fileInput = document.getElementById('editBannerFileInput');
            const urlInput = document.querySelector('input[name="bannerImageUrl"]');
            
            previewDiv.classList.add('hidden');
            previewImg.src = '';
            if (fileInput) fileInput.value = '';
            if (urlInput) urlInput.value = '';
            editUploadedImageData = null;
        }

        function removeCurrentBannerImage() {
            const currentImageInput = document.querySelector('input[name="currentBannerImage"]');
            if (currentImageInput) {
                currentImageInput.value = '';
            }
            
            // Hide the current image display
            const currentImageDiv = document.querySelector('.border.rounded-lg.p-3.bg-gray-50');
            if (currentImageDiv) {
                currentImageDiv.style.display = 'none';
            }
        }

        function updateBanner(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            const bannerId = parseInt(data.editBannerId);
            
            // Determine image source (uploaded file, URL, or keep current)
            let bannerImage = data.currentBannerImage; // Keep current image by default
            
            if (editUploadedImageData) {
                bannerImage = editUploadedImageData; // Use newly uploaded file
            } else if (data.bannerImageUrl) {
                bannerImage = data.bannerImageUrl; // Use new URL
            }
            
            // Get existing banners and update the specific one
            let banners = JSON.parse(localStorage.getItem('banners') || '[]');
            const bannerIndex = banners.findIndex(banner => banner.id === bannerId);
            
            if (bannerIndex !== -1) {
                banners[bannerIndex] = {
                    ...banners[bannerIndex],
                    bannerText: data.bannerText,
                    bannerImage: bannerImage,
                    bannerColor: data.bannerColor,
                    bannerType: data.bannerType,
                    updatedDate: new Date().toLocaleDateString('hi-IN')
                };
                
                localStorage.setItem('banners', JSON.stringify(banners));
                
                alert('‡§¨‡•à‡§®‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
                closeModal();
                loadBanners();
                
                // Reset form handler and button text
                const form = document.getElementById('serviceForm');
                form.onsubmit = submitForm;
                const submitBtn = form.querySelector('button[type="submit"]');
                submitBtn.textContent = '‡§Ü‡§µ‡•á‡§¶‡§® ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç';
                
                // Clear edit variables
                editUploadedImageData = null;
            } else {
                alert('‡§¨‡•à‡§®‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø!');
            }
        }

        function deleteBanner(bannerId) {
            if (confirm('‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏ ‡§¨‡•à‡§®‡§∞ ‡§ï‡•ã ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?')) {
                let banners = JSON.parse(localStorage.getItem('banners') || '[]');
                banners = banners.filter(banner => banner.id !== bannerId);
                localStorage.setItem('banners', JSON.stringify(banners));
                loadBanners();
                alert('‡§¨‡•à‡§®‡§∞ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
            }
        }

        // Profile functions
        function showApplicationReport() {
            const applications = JSON.parse(localStorage.getItem('applications') || '[]');
            const totalApps = applications.length;
            const pendingApps = applications.filter(app => app.status === '‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§').length;
            const completedApps = applications.filter(app => app.status === '‡§™‡•Ç‡§∞‡•ç‡§£').length;
            
            alert(`üìä ‡§Ü‡§µ‡•á‡§¶‡§® ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü:\n\n‚Ä¢ ‡§ï‡•Å‡§≤ ‡§Ü‡§µ‡•á‡§¶‡§®: ${totalApps}\n‚Ä¢ ‡§≤‡§Ç‡§¨‡§ø‡§§ ‡§Ü‡§µ‡•á‡§¶‡§®: ${pendingApps}\n‚Ä¢ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ü‡§µ‡•á‡§¶‡§®: ${completedApps}\n‚Ä¢ ‡§∏‡§´‡§≤‡§§‡§æ ‡§¶‡§∞: ${totalApps > 0 ? Math.round((completedApps/totalApps)*100) : 0}%`);
        }

        function showSettings() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const isLoggedIn = currentUser.type === 'customer' || currentUser.type === 'admin';
            
            if (isLoggedIn) {
                alert(`‚öôÔ∏è ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏:\n\n‚Ä¢ ‡§®‡•ã‡§ü‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§®: ‡§ö‡§æ‡§≤‡•Ç\n‚Ä¢ ‡§≠‡§æ‡§∑‡§æ: ‡§π‡§ø‡§Ç‡§¶‡•Ä\n‚Ä¢ ‡§•‡•Ä‡§Æ: ‡§≤‡§æ‡§á‡§ü ‡§Æ‡•ã‡§°\n‚Ä¢ ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§µ: ‡§ö‡§æ‡§≤‡•Ç\n\n‡§Ö‡§ß‡§ø‡§ï ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü‡§è‡§Ç‡§ó‡•Ä!`);
            } else {
                alert('‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§π‡§≤‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç‡•§');
            }
        }

        // Google Sheets Configuration Functions
        function saveGoogleSheetsConfig() {
            const scriptUrl = document.getElementById('googleScriptUrl').value.trim();
            const sheetId = document.getElementById('googleSheetId').value.trim();
            
            if (!scriptUrl || !sheetId) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç!');
                return;
            }
            
            // Update the configuration
            GOOGLE_SHEETS_CONFIG.scriptUrl = scriptUrl;
            GOOGLE_SHEETS_CONFIG.sheetId = sheetId;
            
            // Save to localStorage
            const config = {
                scriptUrl: scriptUrl,
                sheetId: sheetId,
                savedAt: new Date().toISOString()
            };
            localStorage.setItem('googleSheetsConfig', JSON.stringify(config));
            
            alert('‚úÖ Google Sheets ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§à!\n\n‡§Ö‡§¨ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§°‡•á‡§ü‡§æ Google Sheets ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§è‡§ó‡§æ‡•§');
        }
        
        function testGoogleSheetsConnection() {
            const scriptUrl = document.getElementById('googleScriptUrl').value.trim();
            
            if (!scriptUrl) {
                alert('‡§™‡§π‡§≤‡•á Google Apps Script URL ‡§°‡§æ‡§≤‡•á‡§Ç!');
                return;
            }
            
            // Test data
            const testData = {
                timestamp: new Date().toISOString(),
                trackingId: 'TEST' + Date.now(),
                serviceType: 'Test Connection',
                fullName: 'Test User',
                mobile: '9999999999',
                email: 'test@example.com',
                address: 'Test Address',
                status: 'Test Entry',
                submissionDate: new Date().toLocaleDateString('hi-IN'),
                submissionTime: new Date().toLocaleTimeString('hi-IN')
            };
            
            // Show loading
            const testBtn = event.target;
            const originalText = testBtn.textContent;
            testBtn.textContent = '‡§ü‡•á‡§∏‡•ç‡§ü ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...';
            testBtn.disabled = true;
            
            // Test the connection
            fetch(scriptUrl, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(testData)
            })
            .then(() => {
                alert('‚úÖ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡§´‡§≤!\n\nGoogle Sheets ‡§Æ‡•á‡§Ç test entry add ‡§π‡•ã ‡§ó‡§à‡•§ Sheet check ‡§ï‡§∞‡•á‡§Ç‡•§');
            })
            .catch((error) => {
                console.error('Connection test failed:', error);
                alert('‚ùå ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§´‡•á‡§≤!\n\n‡§ï‡•É‡§™‡§Ø‡§æ URL ‡§î‡§∞ Apps Script setup check ‡§ï‡§∞‡•á‡§Ç‡•§');
            })
            .finally(() => {
                testBtn.textContent = originalText;
                testBtn.disabled = false;
            });
        }
        
        function loadGoogleSheetsConfig() {
            const savedConfig = localStorage.getItem('googleSheetsConfig');
            if (savedConfig) {
                const config = JSON.parse(savedConfig);
                
                // Update the global configuration
                GOOGLE_SHEETS_CONFIG.scriptUrl = config.scriptUrl;
                GOOGLE_SHEETS_CONFIG.sheetId = config.sheetId;
                
                // Update the form fields if they exist
                const scriptUrlField = document.getElementById('googleScriptUrl');
                const sheetIdField = document.getElementById('googleSheetId');
                
                if (scriptUrlField) scriptUrlField.value = config.scriptUrl;
                if (sheetIdField) sheetIdField.value = config.sheetId;
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Set default tab
            switchTab('home');
            
            // Load dynamic content
            loadOffers();
            loadBanners();
            loadGoogleSheetsConfig();
            
            // Load saved home page data
            const homeData = JSON.parse(localStorage.getItem('homePageData') || '{}');
            if (homeData.storeName) {
                const headerTitle = document.querySelector('header h1');
                const headerTagline = document.querySelector('header p');
                if (headerTitle) headerTitle.textContent = homeData.storeName;
                if (headerTagline) headerTagline.textContent = homeData.tagline;
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'982fde7cd6d459d5',t:'MTc1ODUyMzgzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
